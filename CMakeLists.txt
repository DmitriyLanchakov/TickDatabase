CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(OpenTickDatabase)

SET(CMAKE_BUILD_TYPE Debug)
SET(CMAKE_CXX_FLAGS "-Wall")

# QT4 Handling
FIND_PACKAGE(Boost REQUIRED)
FIND_PACKAGE(Qt4 REQUIRED)
SET( QT_USE_QTSQL TRUE )

INCLUDE(${QT_USE_FILE})

SET( OTD_Qt4_SRC )
SET( OTD_Qt4_UI )
SET( OTD_Qt4_RES )

QT4_WRAP_CPP(OTD_QT_MOC_CPP ${OTD_Qt4_SRC})
QT4_WRAP_UI(OTD_QT_UI_CPP ${OTD_Qt4_UI})
QT4_ADD_RESOURCES(OTD_QT_RES_H ${OTD_Qt4_RES})

INCLUDE_DIRECTORIES( . )

# General
SET( OTD_SRC utest_main.cpp )
SET( OTD_LIB ${QT_LIBRARIES} )

ADD_EXECUTABLE(utest_main ${OTD_SRC} )
TARGET_LINK_LIBRARIES(utest_main ${OTD_LIB} )

INSTALL_TARGETS( /bin utest_main)
